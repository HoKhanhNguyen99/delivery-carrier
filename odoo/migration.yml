migration:
  options:
    install_args: --load=web,web_kanban,session_redis,attachment_s3,logging_json
  versions:
    - version: 9.3.3
      operations:
        post:
          - anthem openerp.addons.cloud_platform.songs::install_exoscale
          - oerpscenario -t setup -t ~slow

      addons:
        upgrade:
          # Odoo
          - account
          - account_cancel
          - account_budget
          - account_extra_reports
          - hr
          - hr_contract
          - hr_expense
          - hr_holidays
          - hr_recruitment
          - hr_timesheet
          - hr_timesheet_sheet
          - l10n_ch
          - mrp
          - mrp_byproduct
          - purchase
          - product_visible_discount
          - project
          - project_issue
          - report_intrastat
          - sale
          - stock
          - warning
          - account_reports_followup
          - hr_appraisal
          #OCA
          #oca/bank-statement-reconcile
          - account_operation_rule_early_payment_discount
          #oca/carrier-delivery
          - delivery_carrier_label_postlogistics
          #oca/department
          - analytic_base_department
          - analytic_department
          - project_department
          - project_task_department
          #oca/l10n-switzerland
          - l10n_ch_bank
          - l10n_ch_payment_slip
          - l10n_ch_pain_credit_transfer
          - l10n_ch_states
          - l10n_ch_zip
          #oca/partner-contact
          - partner_firstname
          #oca/product-attribute
          - product_dimension
          #oca/project
          - project_task_default_stage
          #oca/stock-logistics-warehouse
          - stock_available_mrp
          #oca/stock-logistics-workflow
          - stock_split_picking
          #oca/manufacture
          - mrp_bom_dismantling
          #oca/server-tools
          - base_technical_features
          #camptocamp/cloud-platform
          - cloud_platform
          #Specific
          - specific_account
          - specific_building_project
          - specific_hr
          - specific_invoice
          - specific_pad
          - specific_partner
          - specific_product
          - specific_reports
          - specific_stock
          - specific_timesheet
          - specific_timesheet_activities
          - specific_translations
    - version: 9.3.4
      modes:
        full:
          operations:
            post:
              - oerpscenario -t setup -t slow
              - anthem songs.install.post::main
        demo:
          operations:
            post:
              - anthem songs.install.post::main
    - version: 9.3.5
      operations:
        pre:
          - psql -f /opt/odoo/songs/updates/update_9_3_5/update.sql
      addons:
        upgrade:
          - attachment_s3
    - version: 9.3.6
      operations:
        pre:
          - psql -f /opt/odoo/songs/updates/update_9_3_6/update.sql
      addons:
        upgrade:
          - specific_invoice
    - version: 9.3.7
      addons:
        upgrade:
          - specific_reports
    - version: 9.4.0
      addons:
        upgrade:
          - logging_json
          - monitoring_statsd
          - cloud_platform
    - version: 9.4.1
    - version: 9.4.2
    - version: 9.4.3
      modes:
        full:
          operations:
            post:
              - anthem songs.updates.update_9_4_3.data::main
      addons:
        upgrade:
          - specific_reports
          - specific_product
    - version: 9.4.4
    - version: 9.4.5
      addons:
        upgrade:
          - specific_reports
    - version: 9.4.6
      operations:
        post:
          - anthem songs.updates.update_9_4_6.update::main
      addons:
        upgrade:
          - specific_reports
    - version: 9.4.7
      modes:
        full:
          operations:
            pre:
              - psql -f /opt/odoo/songs/updates/update_9_4_7/update.sql
              - anthem songs.updates.update_9_4_7.update::main
      addons:
        upgrade:
          - board
    - version: 9.4.8
      operations:
        post:
          - anthem songs.updates.update_9_4_8.update::main
      addons:
        upgrade:
          - specific_partner
          - specific_reports
    - version: 9.4.9
      operations:
        pre:
          - psql -f /opt/odoo/songs/updates/update_9_4_9/update.sql
        post:
          - anthem songs.updates.update_9_4_9.update::main
      addons:
        upgrade:
          - specific_reports
          - specific_product
          - specific_account
          - mail_environment
          - specific_sale
    - version: 9.4.10
    - version: 9.4.11
      operations:
        post:
          - anthem songs.updates.update_9_4_11.update::main
      addons:
        upgrade:
          - specific_building_project
    - version: 9.4.12
    - version: 9.5.1
      operations:
        post:
          - psql -f /opt/odoo/songs/updates/update_9_5_1/update.sql
      addons:
        upgrade:
          - specific_csv_export
    - version: 9.5.2
      operations:
        post:
          - anthem songs.updates.update_9_5_2.update::main
          - psql -f /opt/odoo/songs/updates/update_9_5_2/update.sql
      addons:
        upgrade:
          - attachment_s3
          - specific_purchase
          - specific_reports
          - specific_partner
          - specific_company_group
          - web_gantt
          - hr_holidays_gantt
          - project_timesheet_synchro
          - website_enterprise
          - l10n_ch_reports
          - account_bank_statement_import_ofx
          - hr_appraisal
          - account_reports_followup
          - account_reports
          - currency_rate_live
          - stock_barcode
          - specific_mrp
    - version: 9.5.3
      addons:
        upgrade:
          - delivery_carrier_label_s3
    - version: 9.5.4
      modes:
        full:
          operations:
            post:
              - anthem songs.updates.update_9_5_4.update::main
      addons:
        upgrade:
          - account_banking_pain_base
          - account_banking_sepa_credit_transfer
          - account_payment_mode
          - account_payment_order
          - account_payment_partner
          - account_payment_sale
          - specific_company_group
    - version: 9.5.5
      addons:
        upgrade:
          - specific_csv_export
          - specific_reports
    - version: 9.5.6
      addons:
        upgrade:
          - specific_reports
    - version: 9.5.7
      addons:
        upgrade:
          - specific_reports

    - version: 9.5.8
      addons:
        upgrade:
          - specific_reports
          - specific_product
          - specific_invoice
          - account_permanent_lock_move

