<?xml version="1.0" encoding="UTF-8"?>
<odoo>

  <record model="ir.ui.view" id="csv_export_view_form">
    <field name='name'>CSV Exports</field>
    <field name='model'>csv.export.manager</field>
    <field name="arch" type="xml">
      <form>
        <group>
          <field name='last_export'/>
          <field name='is_exported'/>
          <field name='log'/>
        </group>
        <group>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"></field>
          </div>
        </group>
      </form>
    </field>
  </record>

  <record model="ir.ui.view" id="csv_export_view_tree">
    <field name='name'>CSV Exports Tree</field>
    <field name='model'>csv.export.manager</field>
    <field name="arch" type="xml">
      <tree default_order="last_export desc" colors="red:is_exported == False">
        <field name="last_export"/>
        <field name='is_exported'/>
      </tree>
    </field>
  </record>

  <record model="ir.ui.view" id="csv_export_view_search">
    <field name='name'>CSV Exports Search</field>
    <field name='model'>csv.export.manager</field>
    <field name="arch" type="xml">
      <search>
        <field name="last_export"/>
        <field name='is_exported'/>
      </search>
    </field>
  </record>
  <act_window
    id="action_csv_export_view"
    name="CSV Export Manager"
    res_model="csv.export.manager" />

  <menuitem id="csv_export_menu"
            name="CSV Exports"
            parent="base.menu_administration"
            sequence="20"/>

  <menuitem id="csv_export_entry_menu"
            name="CSV Exports"
            parent="csv_export_menu"
            action="action_csv_export_view"
            sequence="20"/>
</odoo>
